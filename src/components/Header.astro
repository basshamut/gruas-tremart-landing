---
import { Icon } from 'astro-icon/components';
---

<header class="sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60">
  <div class="container flex h-16 items-center justify-between">
    <div class="flex items-center gap-2">
      <Icon name="lucide:truck" class="h-6 w-6 text-primary" />
      <span class="text-xl font-bold">Gr√∫as Tremart</span>
    </div>
    <nav class="hidden md:flex gap-6">
      <a href="#servicios" class="text-sm font-medium hover:text-primary">
        Servicios
      </a>
      <a href="#nosotros" class="text-sm font-medium hover:text-primary">
        Nosotros
      </a>
      <a href="#testimonios" class="text-sm font-medium hover:text-primary">
        Testimonios
      </a>
      <a href="#contacto" class="text-sm font-medium hover:text-primary">
        Contacto
      </a>
    </nav>
    <div class="flex items-center gap-4">
      <a
          href="tel:+34900123456"
          class="hidden md:flex items-center gap-2 text-sm font-medium"
      >
        <Icon name="lucide:phone-call" class="h-4 w-4" />
        +58 4241361672 / +58 4120163228
      </a>
      <a
          href="tel:+34900123456"
          class="inline-flex h-9 items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"
      >
        <Icon name="lucide:phone-call" class="h-4 w-4 mr-2 md:hidden" />
        <span class="hidden md:inline">Solicitar Asistencia</span>
        <span class="md:hidden">Llamar</span>
      </a>
    </div>
  </div>
</header>

<script>
  // Add active class to nav links when scrolling
  const sections = document.querySelectorAll('section[id]');
  const navLinks = document.querySelectorAll('nav a');

  window.addEventListener('scroll', () => {
    let current = '';

    sections.forEach(section => {
      const sectionTop = section.offsetTop;
      const sectionHeight = section.clientHeight;
      if (scrollY >= (sectionTop - 200)) {
        current = section.getAttribute('id') || '';
      }
    });

    navLinks.forEach(link => {
      link.classList.remove('text-primary');
      if (link.getAttribute('href')?.includes(current)) {
        link.classList.add('text-primary');
      }
    });
  });
</script>

